# Lectures
# 6 Server-side vuln 3
Broken Access Control это до сих пор самая распространённая уязвимость.

Bell LaPadula и Biba применимы к мандатному контролю доступа; при этом это формальные мат. модели на ещё большем уровне абстракии; LaPadula чаще встречается

RBAC - золотая середина между дискредитиционным и мандатным

Есть проблема - вздутие ролей - либо роли становятся огромными, либо ролей капец много. В любом случае администрировать тяжко.

Mass assignment это про тело запроса типа 
{
login: abiba
password: pass
is_admin: true
}
На портсвиггере это не отработать, к сожалению.

### ... с большим к-вом ролей
AuthMatrix для самых сложных случаев, но и самый сложный в использовании.

### обход белых списков
1. Обращение к хосту evil.host с учеткой something
2. # - по идее коммент, но при странном мисконфиге на него может полететь запрос
## 7 - LFR / LR / RFI
### LFR = path traversal
В паролях и истории, разумеется, можно и .zsh_history

Можно допом глянуть команды для докера

## LFI
Это почти всегда (99%) php

И вот как раз это LFR, но для запуска файлов (прямая линия до RCE


### Обход защиты
Нулевой байт - высокоуровневый язык посмотрит на расширение и скажет ок, а вот более низкоуровневый отбросит всё после нулевого байта
### XXE
#### DTD
Объявление своего доктайпа внутри xml

XML Entity - типа переменной тупа, которую один раз объявили и можем не повторяться потом.

Internal xmle находятся внутри dtd

Для xxe нет разницы между internal и external entities

Директорию залистить можно только через RCE-шку, либо через Java (в остальных надо тыкаться как слепой ~~mi~~krotic)

Возможная проблема - может вывестись только одна строка из файла (в Java и не только)

#### CDATA
Всё внутри \[CDATA\[]] воспринимается в чистом виде, как строка. Как раз там нас не убивает \\n и другие

#### Слайд 50 - потом пересмотреть и осознать не на 5.5 часах сна
Объявляем локальную (то есть находящуюся на сервере) DTD, которая при этом является внешней в контексте XML-документа (проверить контекст второго)

